<?xml version="1.0" encoding="utf-8" ?>
<nlog xmlns="http://www.nlog-project.org/schemas/NLog.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" >
	<!--使用Exceptionless日志扩展-->
	<extensions>
		<add assembly="Exceptionless.NLog" />
	</extensions>
	<!--define various log targets-->
	<targets async="true">
		<!--信息日志记录-->
		<target name="file-log-info" xsi:type="AsyncWrapper" queueLimit="30" overflowAction="Discard">
			<target xsi:type="File" fileName="${basedir}/logs/${date:format=yyyy}/${date:format=MM}/${date:format=dd}/${date:format=yyyy-MM-dd}.txt" layout="${longdate} ${level:uppercase=true} ${callsite:className=True:methodName=True}${newline} ${message}" />
		</target>
		<!--警告日志记录-->
		<target name="file-log-Warn" xsi:type="AsyncWrapper" queueLimit="30" overflowAction="Discard">
			<target xsi:type="File" fileName="${basedir}/logswarn/${date:format=yyyy}/${date:format=MM}/${date:format=dd}/${date:format=yyyy-MM-dd}.txt" layout="${longdate} ${level:uppercase=true} ${callsite:className=True:methodName=True}${newline} ${message}" />
		</target>
		<!--错误日志记录-->
		<target name="file-log-error" xsi:type="AsyncWrapper" queueLimit="30" overflowAction="Discard">
			<target xsi:type="File"  fileName="${basedir}/logserr/${date:format=yyyy}/${date:format=MM}/${date:format=dd}/${date:format=yyyy-MM-dd}.txt" layout ="${longdate} ${stacktrace} ${callsite:className=True:fileName=True:includeSourcePath=True:methodName=True}${newline} ${message}" />
		</target>
	</targets>
	<!--日志规则设定-->
	<rules>
		<logger name="*" minlevel="Info" maxlevel="Info" writeTo="file-log-info" />
		<!--<logger name="*" minlevel="Warn" maxlevel="Warn" writeTo="file-log-Warn" />-->
		<logger name="*" minlevel="Error" writeTo="file-log-error"></logger>
	</rules>
</nlog>
